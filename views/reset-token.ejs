<% include ./partials/header.ejs %>

<div class="bg-pink-200 text-white flex items-center justify-center w-full"
     style="background-image: radial-gradient(at 61% 4%, hsla(303, 91%, 61%, 1) 0px, transparent 50%), radial-gradient(at 75% 66%, hsla(196, 91%, 79%, 1) 0px, transparent 50%), radial-gradient(at 98% 88%, hsla(76, 87%, 78%, 1) 0px, transparent 50%), radial-gradient(at 23% 16%, hsla(238, 96%, 77%, 1) 0px, transparent 50%), radial-gradient(at 95% 65%, hsla(13, 91%, 75%, 1) 0px, transparent 50%), radial-gradient(at 10% 79%, hsla(228, 96%, 69%, 1) 0px, transparent 50%), radial-gradient(at 85% 58%, hsla(328, 81%, 68%, 1) 0px, transparent 50%); padding: 15rem 0;">
     <div class="alert">
        <% if (message.length > 0) { %>
            <div id="alert" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
              <span class="block sm:inline"><%= message %></span>
            </div>
            <script>
              setTimeout(() => {
                const alert = document.getElementById('alert');
                if (alert) {
                  alert.style.transition = 'opacity 0.5s ease';
                  alert.style.opacity = '0';
                  setTimeout(() => {
                    alert.remove();
                  }, 500); // Wait for the transition to finish before removing the element
                }
              }, 5000); // 5000 milliseconds = 5 seconds
            </script>
          <% } %>
          <% if (sucess_message.length> 0) { %>
            <div id="alert"
                class="bg-green-100 border border-green-400 text-salte-800 px-4 py-3 rounded absolute top-4 left-1/2 transform -translate-x-1/2 z-50"
                role="alert">
                <span class="block sm:inline">
                    <%= sucess_message %>
                </span>
            </div>
            <script>
                setTimeout(() => {
                    const alert = document.getElementById('alert');
                    if (alert) {
                        alert.style.transition = 'opacity 0.5s ease';
                        alert.style.opacity = '0';
                        setTimeout(() => {
                            alert.remove();
                        }, 300); // Wait for the transition to finish before removing the element
                    }
                }, 3000); // 5000 milliseconds = 5 seconds
            </script>
            <% } %>
    </div>
    <form method="post" action="/set-new-password" class="backdrop-blur-lg bg-white/60 bg-opacity-50 rounded-lg border border-white border-opacity-25 flex flex-col items-center p-8 w-1/2 h-[400px]">
        <input type="hidden" name="token" value="<%= token %>">
        <p class="lock-icon text-7xl text-black"><i class="fas fa-lock"></i></p>
        <h2 class="text-3xl mt-2 uppercase text-black">Forgot Password?</h2>
        <p class="text-md text-black">You can reset your Password here</p>
        <input type="password" name="password" class="passInput mt-4 w-4/5 bg-transparent border-b-2 border-blue-500 outline-none text-black text-2xl" placeholder="Enter password">
        <input type="password" name="confirm_password" class="passInput mt-4 w-4/5 bg-transparent border-b-2 border-blue-500 outline-none text-black text-2xl" placeholder="Confirm password">
        <button class="mt-4 w-fit bg-blue-500 text-white py-3 px-6 uppercase rounded-lg text-xl">Submit</button>
    </form>
</div>

<% include ./partials/footer.ejs %>
